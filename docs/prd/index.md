# Product Requirements Document: TodoMorning

## Table of Contents

- [Product Requirements Document: TodoMorning](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [1. Goals and Background Context](./1-goals-and-background-context.md)
    - [1.1 Goals](./1-goals-and-background-context.md#11-goals)
    - [1.2 Background Context](./1-goals-and-background-context.md#12-background-context)
    - [1.3 Monetization Strategy Overview](./1-goals-and-background-context.md#13-monetization-strategy-overview)
    - [1.4 Change Log](./1-goals-and-background-context.md#14-change-log)
  - [2. Requirements](./2-requirements.md)
    - [2.1 Functional Requirements](./2-requirements.md#21-functional-requirements)
    - [2.2 Non-Functional Requirements](./2-requirements.md#22-non-functional-requirements)
  - [3. User Interface Design Goals](./3-user-interface-design-goals.md)
    - [3.1 Overall UX Vision](./3-user-interface-design-goals.md#31-overall-ux-vision)
    - [3.2 Key Interaction Paradigms](./3-user-interface-design-goals.md#32-key-interaction-paradigms)
    - [3.3 Visual Language](./3-user-interface-design-goals.md#33-visual-language)
    - [3.4 Animation Principles](./3-user-interface-design-goals.md#34-animation-principles)
    - [3.5 Paywall Design Specifications](./3-user-interface-design-goals.md#35-paywall-design-specifications)
    - [3.6 Screen Definitions](./3-user-interface-design-goals.md#36-screen-definitions)
      - [3.6.1 Main Screen (Active Tasks)](./3-user-interface-design-goals.md#361-main-screen-active-tasks)
      - [3.6.2 Add Task Sheet](./3-user-interface-design-goals.md#362-add-task-sheet)
      - [3.6.3 Settings Screen](./3-user-interface-design-goals.md#363-settings-screen)
      - [3.6.4 Archive Screen (Carry Over Mode Only)](./3-user-interface-design-goals.md#364-archive-screen-carry-over-mode-only)
  - [4. Technical Assumptions](./4-technical-assumptions.md)
    - [4.1 Technology Stack](./4-technical-assumptions.md#41-technology-stack)
    - [4.2 Third-Party Services](./4-technical-assumptions.md#42-third-party-services)
    - [4.3 Development Environment](./4-technical-assumptions.md#43-development-environment)
    - [4.4 Platform Support](./4-technical-assumptions.md#44-platform-support)
    - [4.5 Assumptions](./4-technical-assumptions.md#45-assumptions)
  - [5. Explicitly Out of Scope for MVP](./5-explicitly-out-of-scope-for-mvp.md)
    - [5.1 Features Deferred to Post-MVP](./5-explicitly-out-of-scope-for-mvp.md#51-features-deferred-to-post-mvp)
    - [5.2 Intentional Limitations](./5-explicitly-out-of-scope-for-mvp.md#52-intentional-limitations)
  - [6. Epic List - RESTRUCTURED](./6-epic-list-restructured.md)
  - [7. Epic Details - RESTRUCTURED](./7-epic-details-restructured.md)
    - [Epic 1: Foundation & Authentication (Week 1, Days 1-3)](./7-epic-details-restructured.md#epic-1-foundation-authentication-week-1-days-1-3)
      - [Story 1.1: Project Setup & Configuration](./7-epic-details-restructured.md#story-11-project-setup-configuration)
      - [Story 1.2: Supabase Client Configuration](./7-epic-details-restructured.md#story-12-supabase-client-configuration)
      - [Story 1.2.5: Testing Framework Setup](./7-epic-details-restructured.md#story-125-testing-framework-setup)
      - [Story 1.3: Database Schema - Users Table](./7-epic-details-restructured.md#story-13-database-schema-users-table)
      - [Story 1.4: Magic Link Authentication Flow](./7-epic-details-restructured.md#story-14-magic-link-authentication-flow)
      - [Story 1.5: Session Management & Protected Routes](./7-epic-details-restructured.md#story-15-session-management-protected-routes)
    - [Epic 2: Core Task Management (Week 1, Days 4-5 + Week 2, Days 1-2)](./7-epic-details-restructured.md#epic-2-core-task-management-week-1-days-4-5-week-2-days-1-2)
      - [Story 2.1: Tasks Table & Basic UI](./7-epic-details-restructured.md#story-21-tasks-table-basic-ui)
      - [Story 2.2: Create Task - Local State Only](./7-epic-details-restructured.md#story-22-create-task-local-state-only)
      - [Story 2.3: Save Task to Supabase](./7-epic-details-restructured.md#story-23-save-task-to-supabase)
      - [Story 2.4: Load Tasks on App Open](./7-epic-details-restructured.md#story-24-load-tasks-on-app-open)
      - [Story 2.5: Delete Task](./7-epic-details-restructured.md#story-25-delete-task)
      - [Story 2.6: Edit Task](./7-epic-details-restructured.md#story-26-edit-task)
    - [Epic 3: Email Delivery System (Week 2, Days 3-5)](./7-epic-details-restructured.md#epic-3-email-delivery-system-week-2-days-3-5)
      - [Story 3.1: User Preferences - Delivery Time](./7-epic-details-restructured.md#story-31-user-preferences-delivery-time)
      - [Story 3.2: Email Template - HTML Design](./7-epic-details-restructured.md#story-32-email-template-html-design)
      - [Story 3.3: SendGrid Integration](./7-epic-details-restructured.md#story-33-sendgrid-integration)
      - [Story 3.4: Manual "Send Now" Button (Testing)](./7-epic-details-restructured.md#story-34-manual-send-now-button-testing)
      - [Story 3.5: Automated Cron Job](./7-epic-details-restructured.md#story-35-automated-cron-job)
    - [Epic 4: Monetization & Payments (Week 2, Day 5 + Week 3)](./7-epic-details-restructured.md#epic-4-monetization-payments-week-2-day-5-week-3)
      - [Story 4.1: Cohort Assignment on Signup](./7-epic-details-restructured.md#story-41-cohort-assignment-on-signup)
      - [Story 4.2: Trial Days Remaining Display](./7-epic-details-restructured.md#story-42-trial-days-remaining-display)
      - [Story 4.3: Trial Expiration Check & Gate](./7-epic-details-restructured.md#story-43-trial-expiration-check-gate)
      - [Story 4.4: Task Limit Counter (Alternative Gate)](./7-epic-details-restructured.md#story-44-task-limit-counter-alternative-gate)
      - [Story 4.5: Paywall UI & Messaging](./7-epic-details-restructured.md#story-45-paywall-ui-messaging)
      - [Story 4.6: Stripe Payment Integration (Web/PWA)](./7-epic-details-restructured.md#story-46-stripe-payment-integration-webpwa)
      - [Story 4.7: Apple In-App Purchase (iOS)](./7-epic-details-restructured.md#story-47-apple-in-app-purchase-ios)
      - [Story 4.8: Payment Status Sync & Verification](./7-epic-details-restructured.md#story-48-payment-status-sync-verification)
    - [Epic 5: Workflow Modes & Polish (Week 3-4)](./7-epic-details-restructured.md#epic-5-workflow-modes-polish-week-3-4)
      - [Story 5.1: Workflow Mode Selection (Onboarding)](./7-epic-details-restructured.md#story-51-workflow-mode-selection-onboarding)
      - [Story 5.2: Task Completion UI (Carry Over Mode)](./7-epic-details-restructured.md#story-52-task-completion-ui-carry-over-mode)
      - [Story 5.3: Archive View (Carry Over Mode)](./7-epic-details-restructured.md#story-53-archive-view-carry-over-mode)
      - [Story 5.4: Email Delivery - Mode-Specific Logic](./7-epic-details-restructured.md#story-54-email-delivery-mode-specific-logic)
  - [8. Development Guidelines - NEW SECTION](./8-development-guidelines-new-section.md)
    - [Story Size Principles](./8-development-guidelines-new-section.md#story-size-principles)
    - [Build-Test-Fix Workflow](./8-development-guidelines-new-section.md#build-test-fix-workflow)
    - [Story Dependencies](./8-development-guidelines-new-section.md#story-dependencies)
    - [Testing Each Story](./8-development-guidelines-new-section.md#testing-each-story)
  - [8. Checklist Results Report](./8-checklist-results-report.md)
    - [PM Master Checklist Results](./8-checklist-results-report.md#pm-master-checklist-results)
    - [Key Strengths](./8-checklist-results-report.md#key-strengths)
    - [Architect Handoff Notes](./8-checklist-results-report.md#architect-handoff-notes)
  - [9. Next Steps](./9-next-steps.md)
    - [9.1 Immediate Actions](./9-next-steps.md#91-immediate-actions)
    - [9.2 Architecture Phase Handoff](./9-next-steps.md#92-architecture-phase-handoff)
    - [9.3 Development Timeline](./9-next-steps.md#93-development-timeline)
  - [Appendix A: Story Sizing Estimates](./appendix-a-story-sizing-estimates.md)
  - [Appendix B: Database Schema](./appendix-b-database-schema.md)
    - [Users Table](./appendix-b-database-schema.md#users-table)
    - [Tasks Table](./appendix-b-database-schema.md#tasks-table)
    - [Payments Table](./appendix-b-database-schema.md#payments-table)
    - [Email Logs Table](./appendix-b-database-schema.md#email-logs-table)
  - [Appendix C: Email Templates](./appendix-c-email-templates.md)
    - [Fresh Start Mode Email Template](./appendix-c-email-templates.md#fresh-start-mode-email-template)
    - [Carry Over Mode Email Template](./appendix-c-email-templates.md#carry-over-mode-email-template)
  - [Appendix D: Key User Flows](./appendix-d-key-user-flows.md)
    - [Flow 1: First-Time User (Fresh Start Mode)](./appendix-d-key-user-flows.md#flow-1-first-time-user-fresh-start-mode)
    - [Flow 2: First-Time User (Carry Over Mode)](./appendix-d-key-user-flows.md#flow-2-first-time-user-carry-over-mode)
    - [Flow 3: Trial Expiration (Freemium Cohort)](./appendix-d-key-user-flows.md#flow-3-trial-expiration-freemium-cohort)
    - [Flow 4: Payment Flow (iOS)](./appendix-d-key-user-flows.md#flow-4-payment-flow-ios)
  - [Appendix E: Success Metrics Dashboard](./appendix-e-success-metrics-dashboard.md)
    - [Week 1 Metrics (Post-Launch, Free Phase)](./appendix-e-success-metrics-dashboard.md#week-1-metrics-post-launch-free-phase)
    - [Month 1 Metrics (End of Free Phase)](./appendix-e-success-metrics-dashboard.md#month-1-metrics-end-of-free-phase)
    - [Month 2 Metrics (Freemium A/B Test Phase)](./appendix-e-success-metrics-dashboard.md#month-2-metrics-freemium-ab-test-phase)
    - [Month 3 Metrics (Scale with Winning Price)](./appendix-e-success-metrics-dashboard.md#month-3-metrics-scale-with-winning-price)
    - [Month 4+ Metrics (Optimization Phase)](./appendix-e-success-metrics-dashboard.md#month-4-metrics-optimization-phase)
  - [Document End](./document-end.md)
